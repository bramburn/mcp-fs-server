# GEMINI.md

This file provides context about the `mcp-fs-server` project for AI agent interactions.

## Project Overview

The `mcp-fs-server` project is a Node.js application designed to act as an MCP (Model Context Protocol) server. Its primary functions include semantic search and file watching, leveraging technologies like Qdrant for vector search, Ollama for language model interactions, and `chokidar` for monitoring file system changes. The project is built using TypeScript.

## Project Type

This is a **Code Project** (Node.js).

## Environment Information

*   **Operating System:** Windows (`win32`)
*   **Runtime:** Node.js (Specific version not determined from available files)
*   **CLI Tools:** `npm`/`yarn`, `gh cli`, `git`, `typescript` (`tsc`)
*   **Development Directory:** `C:\dev\mcp-fs-server`

## Technologies Used

*   **Runtime:** Node.js
*   **Language:** TypeScript
*   **Core Libraries:**
    *   `@modelcontextprotocol/sdk`: For Model Context Protocol interactions.
    *   `@qdrant/js-client-rest`: For interacting with Qdrant vector database.
    *   `chokidar`: For efficient file watching.
    *   `web-tree-sitter`: For parsing code or text structures.
    *   `ollama`: For integrating with Ollama language models.
    *   `zod`: For data validation.
    *   `glob`: For file path pattern matching.
    *   `crypto`: For cryptographic operations.
*   **Build Tools:** `typescript` (via `tsc`)

## Building and Running

The project uses `npm` (or `yarn`) for package management and script execution.

*   **Install Dependencies:**
    ```bash
    npm install
    # or
    yarn install
    ```

*   **Build Project:** Compiles TypeScript code to JavaScript.
    ```bash
    npm run build
    # or
    yarn build
    ```

*   **Run Application:** Starts the server after building.
    ```bash
    npm start
    # or
    yarn start
    ```

*   **Setup WASM:** Installs WASM-related dependencies.
    ```bash
    npm run setup
    # or
    yarn setup
    ```

*   **Development Watch Mode:** Compiles TypeScript on file changes.
    ```bash
    npm run watch
    # or
    yarn watch
    ```

## Development Conventions

*   **Language:** TypeScript is used for development.
*   **Package Management:** `npm` is used, as indicated by `package.json` and `package-lock.json`.
*   **File Structure:** Standard Node.js project structure with a `scripts` directory for utility scripts and a `build` directory for compiled output.
*   **`.gitignore`:** The `.gitignore` file is present and configured to ignore `node_modules/`.

## Key Files

*   `package.json`: Defines project metadata, dependencies, and scripts for building, running, and watching.
*   `package-lock.json`: Locks dependency versions for reproducible builds.
*   `tsconfig.json` (Assumed, not explicitly read but implied by `tsc` usage): Configuration for the TypeScript compiler.
*   `scripts/wasm-installer.js`: A script likely used for setting up WebAssembly dependencies.
*   `.gitignore`: Configures which files and directories Git should ignore (e.g., `node_modules/`).
*   `GEMINI.md`: This file, providing context for AI interactions.
*   `build/index.js` (Output of build): The main entry point for the application after compilation.
*   `src/` (Assumed, not explicitly read but implied by `build/index.js` and `tsc` usage): Contains the TypeScript source code.
*   `.qodo/`: Directory present, likely for AI agent configurations or workflows.
*   `wasm/`: Directory present, likely related to WebAssembly.

## Data Structure

*   **Schema Definition:** The project utilizes `zod` for data validation and schema definition, implying structured data across the application, though specific schema files were not read.
*   **Vector Storage:** The use of `@qdrant/js-client-rest` indicates that data is likely stored and queried as vectors in Qdrant, with associated metadata payloads.
*   **Context Management:** `@modelcontextprotocol/sdk` suggests the handling of model context, which may involve specific data structures for managing conversational or processing history.

## Architecture Notes

The server appears to integrate file system monitoring with semantic analysis capabilities, likely for indexing or searching content. The use of Qdrant suggests a focus on efficient similarity search for embeddings generated by Ollama or other models.

The architecture likely involves:
1.  **File Watching:** `chokidar` monitors changes in specified directories.
2.  **Processing:** Detected file content may be processed by `ollama` for embeddings or other NLP tasks.
3.  **Storage/Retrieval:** Embeddings and associated data are stored in Qdrant for efficient semantic search.
4.  **SDK Integration:** `@modelcontextprotocol/sdk` is used to manage context or interact with other services.
5.  **Build Process:** TypeScript code is compiled to JavaScript in the `build/` directory.